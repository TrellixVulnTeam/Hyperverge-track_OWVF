{"ast":null,"code":"import { ADD_BUS, ADD_BUS_FAILED } from './type';\nimport axios from 'axios';\nimport setAlert from './aleart';\n\nconst addBus = ({\n  busName,\n  vehicleNo,\n  seats,\n  busType,\n  seatCategory,\n  policy,\n  from,\n  to,\n  arrivalTime,\n  departureTime,\n  image,\n  staffs,\n  schedule\n}) => async dispatch => {\n  const config = {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n  const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n\n  for (let day = 0; day < schedule.length; day++) {\n    schedule[day] = days.indexOf(schedule[day]);\n  }\n\n  const Staff_Number = [staffs];\n  const body = JSON.stringify({\n    busName,\n    vehicleNo,\n    seats,\n    busType,\n    seatCategory,\n    policy,\n    from,\n    to,\n    arrivalTime,\n    departureTime,\n    image,\n    Staff_Number,\n    schedule\n  });\n  console.log(body);\n\n  try {\n    const res = await axios.post('/api/admins/admin/Addbus', body, config);\n    dispatch({\n      type: ADD_BUS,\n      payload: res.data\n    });\n    dispatch(setAlert('bus has added succefully', 'success'));\n  } catch (err) {\n    console.log(err);\n    dispatch(setAlert('there was an error while adding the bus', 'danger'));\n    dispatch({\n      type: ADD_BUS_FAILED\n    });\n  }\n};\n\nexport default addBus;","map":{"version":3,"sources":["/home/rani/Desktop/Red_bus_app/Frontend/my-app/src/action/bus.js"],"names":["ADD_BUS","ADD_BUS_FAILED","axios","setAlert","addBus","busName","vehicleNo","seats","busType","seatCategory","policy","from","to","arrivalTime","departureTime","image","staffs","schedule","dispatch","config","headers","days","day","length","indexOf","Staff_Number","body","JSON","stringify","console","log","res","post","type","payload","data","err"],"mappings":"AAAA,SAASA,OAAT,EAAkBC,cAAlB,QAAwC,QAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,UAArB;;AACA,MAAMC,MAAM,GAAG,CAAC;AACZC,EAAAA,OADY;AAEZC,EAAAA,SAFY;AAGZC,EAAAA,KAHY;AAIZC,EAAAA,OAJY;AAKZC,EAAAA,YALY;AAMZC,EAAAA,MANY;AAOZC,EAAAA,IAPY;AAQZC,EAAAA,EARY;AASZC,EAAAA,WATY;AAUZC,EAAAA,aAVY;AAWZC,EAAAA,KAXY;AAYZC,EAAAA,MAZY;AAaZC,EAAAA;AAbY,CAAD,KAcT,MAAMC,QAAN,IAAkB;AACpB,QAAMC,MAAM,GAAG;AACXC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AADE,GAAf;AAMA,QAAMC,IAAI,GAAG,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CAAb;;AACA,OAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGL,QAAQ,CAACM,MAAjC,EAAyCD,GAAG,EAA5C,EAAgD;AAC5CL,IAAAA,QAAQ,CAACK,GAAD,CAAR,GAAgBD,IAAI,CAACG,OAAL,CAAaP,QAAQ,CAACK,GAAD,CAArB,CAAhB;AACH;;AAED,QAAMG,YAAY,GAAG,CAACT,MAAD,CAArB;AACA,QAAMU,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AACxBvB,IAAAA,OADwB;AAExBC,IAAAA,SAFwB;AAGxBC,IAAAA,KAHwB;AAIxBC,IAAAA,OAJwB;AAKxBC,IAAAA,YALwB;AAMxBC,IAAAA,MANwB;AAOxBC,IAAAA,IAPwB;AAQxBC,IAAAA,EARwB;AASxBC,IAAAA,WATwB;AAUxBC,IAAAA,aAVwB;AAWxBC,IAAAA,KAXwB;AAYxBU,IAAAA,YAZwB;AAaxBR,IAAAA;AAbwB,GAAf,CAAb;AAeAY,EAAAA,OAAO,CAACC,GAAR,CAAYJ,IAAZ;;AACA,MAAI;AACA,UAAMK,GAAG,GAAG,MAAM7B,KAAK,CAAC8B,IAAN,CAAW,0BAAX,EAAuCN,IAAvC,EAA6CP,MAA7C,CAAlB;AACAD,IAAAA,QAAQ,CAAC;AACLe,MAAAA,IAAI,EAAEjC,OADD;AAELkC,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFR,KAAD,CAAR;AAIAjB,IAAAA,QAAQ,CAACf,QAAQ,CAAC,0BAAD,EAA6B,SAA7B,CAAT,CAAR;AACH,GAPD,CAOE,OAAOiC,GAAP,EAAY;AACVP,IAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACAlB,IAAAA,QAAQ,CAACf,QAAQ,CAAC,yCAAD,EAA4C,QAA5C,CAAT,CAAR;AAEAe,IAAAA,QAAQ,CAAC;AACLe,MAAAA,IAAI,EAAEhC;AADD,KAAD,CAAR;AAIH;AACA,CA3DL;;AA6DA,eAAeG,MAAf","sourcesContent":["import { ADD_BUS, ADD_BUS_FAILED } from './type';\nimport axios from 'axios';\nimport setAlert from './aleart';\nconst addBus = ({\n    busName,\n    vehicleNo,\n    seats,\n    busType,\n    seatCategory,\n    policy,\n    from,\n    to,\n    arrivalTime,\n    departureTime,\n    image,\n    staffs,\n    schedule\n}) => async dispatch => {\n    const config = {\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n\n    const days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n    for (let day = 0; day < schedule.length; day++) {\n        schedule[day] = days.indexOf(schedule[day]);\n    }\n\n    const Staff_Number = [staffs];\n    const body = JSON.stringify({\n        busName,\n        vehicleNo,\n        seats,\n        busType,\n        seatCategory,\n        policy,\n        from,\n        to,\n        arrivalTime,\n        departureTime,\n        image,\n        Staff_Number,\n        schedule\n    });\n    console.log(body);\n    try {\n        const res = await axios.post('/api/admins/admin/Addbus', body, config);\n        dispatch({\n            type: ADD_BUS,\n            payload: res.data\n        });\n        dispatch(setAlert('bus has added succefully', 'success'));\n    } catch (err) {\n        console.log(err);\n        dispatch(setAlert('there was an error while adding the bus', 'danger'));\n\n        dispatch({\n            type: ADD_BUS_FAILED\n        });\n\n    }\n    };\n\nexport default addBus"]},"metadata":{},"sourceType":"module"}